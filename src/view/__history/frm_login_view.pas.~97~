unit frm_login_view;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, my_contracts, frm_login_controller, user_DTO,
  Vcl.ExtCtrls;

type
  Tfrm_login = class(TForm, ILoginView)
    lbl_title_login: TLabel;
    edt_nome_login: TEdit;
    edt_senha_login: TEdit;
    btn_login: TButton;
    pnl_login: TPanel;
    procedure FormCreate(Sender: TObject);
    procedure btn_loginClick(Sender: TObject);
  private
    { Private declarations }
    FController : ILoginController;



  public
    { Public declarations }
    function GetNome: String;
    function GetPassword: String;
    procedure Mensagem(aString: String);
    procedure TrocarTelaAdmin(aForm: TForm);
  end;

var
  frm_login: Tfrm_login;

implementation

{$R *.dfm}

{ Tfrm_login }

procedure Tfrm_login.FormCreate(Sender: TObject);
begin

  FController := TLoginController.Create(Self);
  Self.Position := poScreenCenter;
end;

procedure Tfrm_login.btn_loginClick(Sender: TObject);
begin
  FController.ProcessarLogin;
end;

function Tfrm_login.GetNome: String;
begin
  Result := edt_nome_login.Text;
end;

function Tfrm_login.GetPassword: String;
begin
  Result := edt_senha_login.Text;
end;

procedure Tfrm_login.Mensagem(aString: String);
begin
  ShowMessage(aString);
end;



procedure Tfrm_login.TrocarTelaAdmin(aForm: TForm);
begin
  Self.Destroy;
  aForm := TForm.Create(Self.);
end;

end.
