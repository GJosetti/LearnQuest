unit frm_menu_admin_view;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, my_contracts, Vcl.StdCtrls, Vcl.ExtCtrls,
  Data.DB, Vcl.Grids, Vcl.DBGrids, frm_menu_admin_controller;

type
  TMode = (m_ADD,m_EDIT);
  Tfrm_menuAdmin_view = class(TForm, IMenuAdminView)
    pnl_sideMenu_adminMenu: TPanel;
    Escolas: TButton;
    pnl_home_adminMenu: TPanel;
    Home: TButton;
    pnl_escolas_adminMenu: TPanel;
    dbg_escolas: TDBGrid;
    d_Src_escolas: TDataSource;
    btn_adicionar_adminMenu: TPanel;
    btn_remover_adminMenu: TPanel;
    btn_editar_adminMenu: TPanel;
    pnl_addNEdit_adminMenu: TPanel;
    pnl_title_addNEdit_adminMenu: TLabel;
    edt_nome_addNEdit_adminMenu: TEdit;
    lbl_nome_edit_addNEdit_adminMenu: TLabel;
    lbl_CEP_addNEdit_adminMenu: TLabel;
    edt_CEP_addNEdit_adminMenu: TEdit;
    btn_concluir_addNEdit_adminMenu: TPanel;
    btn_cancelar_addNEdit_adminMenu: TPanel;
    procedure FormCreate(Sender: TObject);
    procedure EscolasClick(Sender: TObject);
    procedure HomeClick(Sender: TObject);
    procedure btn_adicionar_adminMenuClick(Sender: TObject);

  private
    { Private declarations }
    FController: IMenuAdminController;
    Fmode : TMode;

  public
    { Public declarations }

  end;

var
  frm_menuAdmin_view: Tfrm_menuAdmin_view;

implementation

{$R *.dfm}

procedure Tfrm_menuAdmin_view.btn_adicionar_adminMenuClick(Sender: TObject);
begin
// 1 - DEIXA O PANEL VISIVEL; 2- VERIFICA SE É UM ADD OU EDIT; 3- FAZ AS DEVIDAS ALTERAÇÕES;
  pnl_addNEdit_adminMenu.Visible := true;
  if()


end;

procedure Tfrm_menuAdmin_view.EscolasClick(Sender: TObject);
begin
 //MUDAR DE TELA: 1- Deixar home invisivel 2- deixar escola visivel 3 - atualizar tabela de escolas :)
 pnl_home_adminMenu.Visible := false;
 pnl_escolas_adminMenu.Visible := true;
 if Assigned(d_Src_escolas.DataSet) then begin
   d_Src_escolas.DataSet := nil; // limpa antes
 end;
  d_Src_escolas.DataSet := FController.AtualizarTabelaEscolas;
  dbg_escolas.DataSource := d_Src_escolas;



end;

procedure Tfrm_menuAdmin_view.FormCreate(Sender: TObject);
begin
  FController := TMenuAdminController.Create(Self);
  Self.Position := poScreenCenter;


end;



procedure Tfrm_menuAdmin_view.HomeClick(Sender: TObject);
begin
  pnl_home_adminMenu.Visible := true;
  pnl_escolas_adminMenu.Visible := false;
  //Limpar Lista na memória
end;

end.
